
-- 1. Create database
CREATE DATABASE IF NOT EXISTS nhl_analysis;
USE nhl_analysis;

-- 2. Teams table
CREATE TABLE IF NOT EXISTS teams (
    team_id INT AUTO_INCREMENT PRIMARY KEY,
    team_name VARCHAR(100) UNIQUE,
    GP INT,
    W INT,
    L INT,
    GF INT,
    GA INT,
    PP FLOAT,
    PK FLOAT,
    Shots_per_GP FLOAT,
    SA_per_GP FLOAT,
    FOW FLOAT
);

-- 3. Players table
CREATE TABLE IF NOT EXISTS players (
    player_id INT AUTO_INCREMENT PRIMARY KEY,
    player_name VARCHAR(100),
    team_id INT,
    position VARCHAR(10),
    GP INT,
    G INT,
    A INT,
    P INT,
    plus_minus INT,
    PIM INT,
    S INT,
    S_percent FLOAT,
    TOI_min FLOAT,
    FOW_percent FLOAT,
    FOREIGN KEY (team_id) REFERENCES teams(team_id)
);

-- 4. Goalies table
CREATE TABLE IF NOT EXISTS goalies (
    goalie_id INT AUTO_INCREMENT PRIMARY KEY,
    goalie_name VARCHAR(100),
    team_id INT,
    GP INT,
    GS INT,
    SV_percent FLOAT,
    GAA FLOAT,
    GF INT,
    GA INT,
    TOI_min FLOAT,
    FOREIGN KEY (team_id) REFERENCES teams(team_id)
);
